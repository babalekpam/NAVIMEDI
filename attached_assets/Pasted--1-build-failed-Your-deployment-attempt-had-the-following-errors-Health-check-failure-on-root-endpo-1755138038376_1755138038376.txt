
1 build failed
Your deployment attempt had the following errors:
Health check failure on root endpoint (/) - deployment system expects JSON response but gets HTML/frontend content
Root endpoint serves frontend application instead of health check response
Missing dedicated health check endpoint at /health for Cloud Run deployment
Agent suggestions
// Current root endpoint serves frontend and has complex health check logic mixed in
// Add dedicated health endpoint
app.get('/health', (req, res) => {
  res.status(200).json({
    status: 'healthy',
    service: 'navimed-healthcare',
    timestamp: new Date().toISOString(),
    version: '1.0.0',
    env: process.env.NODE_ENV || 'development',
    hasDb: !!process.env.DATABASE_URL,
    hasJwt: !!process.env.JWT_SECRET
  });
});
app.get('/', (req, res, next) => {
  try {
    const userAgent = req.get('User-Agent') || '';
    const accept = req.get('Accept') || '';
    
    // Enhanced health check detection for multiple deployment platforms
    const isHealthCheck = userAgent === '' || 
        userAgent.includes('GoogleHC') || 
        userAgent.includes('Google') ||
        userAgent.includes('kube-probe') ||
        userAgent.includes('Go-http-client') ||
        userAgent.includes('replit') ||
        userAgent.includes('health') ||
        accept.includes('application/json') ||
        !accept.includes('text/html');
    
    if (isHealthCheck) {
      return res.status(200).json({ 
        status: 'healthy', 
        service: 'navimed-healthcare',
        timestamp: new Date().toISOString(),
        version: '1.0.0',
        env: process.env.NODE_ENV || 'development',
        hasDb: !!process.env.DATABASE_URL,
        hasJwt: !!process.env.JWT_SECRET
      });
    }
    
    // Let Vite handle HTML requests for frontend (browsers)
    next();
  } catch (error) {
    console.error('Root endpoint error:', error);
    // Fallback health response for deployment systems
    res.status(200).json({
      status: 'ok',
      service: 'navimed-healthcare',
      fallback: true
    });
  }
});
// Simplified root endpoint - only serve frontend
app.get('/', (req, res, next) => {
  // Let Vite handle HTML requests for frontend
  next();
});
Health checks are sent to the / endpoint by default
Configure health check endpoint to use /health in deployment settings