[root@wizardly-swirles NaviMed]# 
[root@wizardly-swirles NaviMed]# cat > /var/www/vhosts/navimedi.org/httpdocs/NaviMed/.env << 'EOF'
DATABASE_URL=postgresql://neondb_owner:npg_vMTokQ6w9fey@ep-square-moon-aexpu2wb.c-2.us-east-2.aws.neon.tech/neondb?sslmode=require
NODE_ENV=production
SESSION_SECRET=navimed-ultra-secure-session-key-2024-production
JWT_SECRET=navimed-jwt-secret-key-ultra-secure-2024
SMTP_HOST=mail.navimedi.org
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=no-reply@navimedi.org
SMTP_PASS=Serrega1208@!!
SMTP_FROM=no-reply@navimedi.org
EOF
[root@wizardly-swirles NaviMed]# cd /var/www/vhosts/navimedi.org/httpdocs/NaviMed && npm install dotenv-cli

added 4 packages, and audited 916 packages in 2s

100 packages are looking for funding
  run `npm fund` for details

8 vulnerabilities (4 moderate, 4 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
[root@wizardly-swirles NaviMed]# cat > /var/www/vhosts/navimedi.org/httpdocs/NaviMed/ecosystem.config.cjs << 'EOF'
module.exports = {
  apps: [{
    name: 'navimed',
    script: 'npx',
    args: 'dotenv -e .env -- node dist/index.js',
    instances: 1,
    exec_mode: 'fork',
    cwd: '/var/www/vhosts/navimedi.org/httpdocs/NaviMed'
  }]
};
EOF
[root@wizardly-swirles NaviMed]# cd /var/www/vhosts/navimedi.org/httpdocs/NaviMed && pm2 delete navimed && pm2 start ecosystem.config.cjs && pm2 save
[PM2] Applying action deleteProcessId on app [navimed](ids: [ 0 ])
[PM2] [navimed](0) ✓
┌────┬───────────┬─────────────┬─────────┬─────────┬──────────┬────────┬──────┬───────────┬──────────┬──────────┬──────────┬──────────┐
│ id │ name      │ namespace   │ version │ mode    │ pid      │ uptime │ ↺    │ status    │ cpu      │ mem      │ user     │ watching │
└────┴───────────┴─────────────┴─────────┴─────────┴──────────┴────────┴──────┴───────────┴──────────┴──────────┴──────────┴──────────┘
[PM2][WARN] Applications navimed not running, starting...
[PM2] App [navimed] launched (1 instances)
┌────┬────────────┬─────────────┬─────────┬─────────┬──────────┬────────┬──────┬───────────┬──────────┬──────────┬──────────┬──────────┐
│ id │ name       │ namespace   │ version │ mode    │ pid      │ uptime │ ↺    │ status    │ cpu      │ mem      │ user     │ watching │
├────┼────────────┼─────────────┼─────────┼─────────┼──────────┼────────┼──────┼───────────┼──────────┼──────────┼──────────┼──────────┤
│ 0  │ navimed    │ default     │ N/A     │ fork    │ 1949595  │ 0s     │ 0    │ online    │ 0%       │ 17.9mb   │ root     │ disabled │
└────┴────────────┴─────────────┴─────────┴─────────┴──────────┴────────┴──────┴───────────┴──────────┴──────────┴──────────┴──────────┘
[PM2] Saving current process list...
[PM2] Successfully saved in /root/.pm2/dump.pm2
[root@wizardly-swirles NaviMed]# 