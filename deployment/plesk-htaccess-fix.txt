# .htaccess file for NaviMED SPA routing fix
# Upload this to your /httpdocs/ directory in Plesk

RewriteEngine On

# Handle client-side routing (SPA)
# If the request is not for an actual file or directory,
# serve index.html to let React Router handle the routing
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} !^/api/
RewriteRule ^(.*)$ /index.html [L]

# Ensure API routes are handled by Node.js
RewriteCond %{REQUEST_URI} ^/api/
RewriteRule ^(.*)$ - [L]